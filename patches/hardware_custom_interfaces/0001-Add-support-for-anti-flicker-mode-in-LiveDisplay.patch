From 3045ed9c6037bfedfb7d760eee81260d5b188494 Mon Sep 17 00:00:00 2001
From: Arian <arian.kulmer@web.de>
Date: Wed, 29 Jul 2020 16:04:35 +0200
Subject: [PATCH] Add support for anti flicker mode in LiveDisplay

Change-Id: Ib5e1d0f3bfb6974ce37d1da624dd8d8f9302e542
---
 livedisplay/2.0/Android.bp       |  1 +
 livedisplay/2.0/IAntiFlicker.hal | 23 +++++++++++++++++++++++
 2 files changed, 24 insertions(+)
 create mode 100644 livedisplay/2.0/IAntiFlicker.hal

diff --git a/livedisplay/2.0/Android.bp b/livedisplay/2.0/Android.bp
index 63c75c5..09a1460 100644
--- a/livedisplay/2.0/Android.bp
+++ b/livedisplay/2.0/Android.bp
@@ -6,6 +6,7 @@ hidl_interface {
     srcs: [
         "types.hal",
         "IAdaptiveBacklight.hal",
+        "IAntiFlicker.hal",
         "IAutoContrast.hal",
         "IColorBalance.hal",
         "IColorEnhancement.hal",
diff --git a/livedisplay/2.0/IAntiFlicker.hal b/livedisplay/2.0/IAntiFlicker.hal
new file mode 100644
index 0000000..9ab9285
--- /dev/null
+++ b/livedisplay/2.0/IAntiFlicker.hal
@@ -0,0 +1,23 @@
+/*
+ * Copyright (C) 2020 The LineageOS Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package vendor.lineage.livedisplay@2.0;
+
+interface IAntiFlicker {
+    isEnabled() generates (bool rc);
+    showWarning() generates (bool rc);
+    setEnabled(bool enabled) generates (bool rc);
+};
-- 
2.20.1

